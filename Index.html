<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rutina de Ejercicio</title>
  <style>
    body {
      font-family: sans-serif;
      padding: 10px;
      text-align: center;
      background-image: url('https://adriansanchez17217.github.io/IMAGEN/FONDO.jpg');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      background-attachment: fixed;
    }

    @media (max-width: 768px) {
      body {
        background-size: auto 100%;
      }
    }

    h2 {
      margin-top: 40px;
    }

    /* Estilos para las pestañas */
    .tabs {
      display: flex;
      justify-content: center;
      margin-bottom: 20px;
      flex-wrap: wrap;  /* Para permitir que las pestañas se ajusten */
    }

    .tab {
      padding: 5px 10px;
      cursor: pointer;
      background-color: transparent;
      color: black;
      border: none;
      border-radius: 5px;
      margin: 5px;
      font-weight: bold;
      font-size: 16px;
      flex: 1;  /* Se ajustará a la pantalla */
    }

    .tab:hover {
      background-color: #0b7dda;
    }

    /* Estilos para el contenido de cada día */
    .tab-content {
      display: none;
    }

    .tab-content.active {
      display: block;
    }

    .dia {
      margin-bottom: 40px;
    }

    .ejercicio {
      display: flex;
      gap: 10px;
      align-items: center;
      margin-bottom: 10px;
    }

    .ejercicio input,
    .ejercicio select {
      font-weight: bold;
      color: black;
      background-color: transparent;
      border: none;
      padding: 2px;
      text-align: left;
      font-size: 16px;
      width: auto;
    }

    .ejercicio select {
      max-width: 73px;
      text-align: center;
    }

.ejercicio textarea {
  font-weight: bold;
  color: black;
  background-color: transparent;
  border: none;
  padding: 2px;
  text-align: left;
  font-size: 16px;
  width: 100%;  /* Ajusta el ancho al 100% */
  resize: none;
  word-break: break-word;
  overflow-wrap: break-word;
  line-height: 1.2em;
}


    button {
      margin-top: 5px;
      padding: 3px 3px;
      background-color: transparent;
      border: none;
    }

    .lupa {
      cursor: pointer;
      margin-left: 5px;
      font-size: 14px;
      padding: 2px 2px;
      background-color: transparent;
      border: none;
    }

    .seleccion-usuario {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-top: 50px;
    }

    .seleccion-usuario button {
      background-color: #2196F3;
      color: white;
      padding: 15px 32px;
      text-align: center;
      font-size: 18px;
      border: none;
      cursor: pointer;
      border-radius: 5px;
      margin-bottom: 20px;
    }

    .seleccion-usuario button:hover {
      background-color: #0b7dda;
    }

    .volver {
      margin-top: 20px;
      font-size: 18px;
      text-decoration: underline;
      cursor: pointer;
      color: black;
    }

    .rutina-predeterminada {
      display: flex;
      justify-content: center;
      flex-direction: column;
      align-items: center;
    }

    .rutina-predeterminada button {
      background-color: #2196F3;
      color: white;
      padding: 15px 32px;
      text-align: center;
      font-size: 18px;
      border: none;
      cursor: pointer;
      border-radius: 5px;
      margin-top: 20px;
    }

    .rutina-predeterminada button:hover {
      background-color: #0b7dda;
    }

    .editar-btn {
      margin-top: 20px;
      background-color: #2196F3;
      padding: 10px;
      color: white;
      font-size: 16px;
      border: none;
      cursor: pointer;
      border-radius: 5px;
    }

    .editar-btn:hover {
      background-color: #0b7dda;
    }

    .ejercicio input:disabled,
    .ejercicio select:disabled {
      color: black;
      background-color: transparent;
      opacity: 1;
      font-weight: bold;
    }

    .reset-btn {
      margin-top: 20px;
      background-color: #F44336;
      color: white;
      padding: 10px 20px;
      font-size: 16px;
      border: none;
      cursor: pointer;
      border-radius: 5px;
    }

    .reset-btn:hover {
      background-color: #d32f2f;
    }

    /* Ajustes específicos para #diasRutina */
    #diasRutina {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      gap: 20px;
      margin-top: 30px;
    }

    /* Ajustes para el diseño en pantallas más pequeñas */
    @media (max-width: 768px) {
      #diasRutina {
        flex-direction: column;
        align-items: center;
      }

      .dia {
        width: 100%;
        text-align: center;
      }

      .ejercicio {
        flex-direction: column;
        align-items: center;
        width: 100%;
      }

      .tab {
        width: 100%;
        margin: 5px 0;
      }
    }

    /* Para pantallas grandes */
    @media (min-width: 769px) {
      .dia {
        width: 48%;
      }
    }
  </style>
</head>

<body>

  <div id="seleccionUsuario">
    <h1>Selecciona tu usuario</h1>
    <div class="seleccion-usuario">
      <button onclick="seleccionarUsuario('ADRIAN')">ADRIAN</button>
      <button onclick="seleccionarUsuario('CRISTINA')">CRISTINA</button>
    </div>
  </div>

  <div id="seleccionRutina" style="display:none;">
    <h1>Selecciona tu rutina</h1>
    <div class="rutina-predeterminada">
      <h2>Rutinas Predeterminadas</h2>
      <button onclick="cargarRutina('Rutina 5 días')">Rutina 5 días</button>
    </div>
    <div class="volver" onclick="volverSeleccionUsuario()">← Volver a seleccionar usuario</div>
  </div>

  <div id="rutina" style="display:none;">
    <div class="volver" onclick="volverSeleccionRutina()">← Volver a seleccionar rutina</div>
    <button id="editarBtn" class="editar-btn" onclick="toggleEditMode()">Editar</button>
    <button class="reset-btn" onclick="resetRutina()">Resetear Rutina</button>

    <!-- Tabs para cada día -->
    <div class="tabs" id="tabs"></div>

    <!-- Contenido de cada día -->
    <div id="diasRutina"></div>
  </div>

  <script>
    let usuarioSeleccionado = null;
    let rutinaSeleccionada = null;
    let isEditMode = false;

    const seleccionarUsuario = (usuario) => {
      usuarioSeleccionado = usuario;
      document.getElementById('seleccionUsuario').style.display = 'none';
      document.getElementById('seleccionRutina').style.display = 'block';
    };

    const volverSeleccionUsuario = () => {
      document.getElementById('seleccionUsuario').style.display = 'block';
      document.getElementById('seleccionRutina').style.display = 'none';
    };

    const cargarRutina = (rutina) => {
      rutinaSeleccionada = rutina;
      document.getElementById('seleccionRutina').style.display = 'none';
      document.getElementById('rutina').style.display = 'block';
      if (rutina === 'Rutina 5 días') {
        cargarRutina5Dias();
      }
    };

    const volverSeleccionRutina = () => {
      document.getElementById('seleccionRutina').style.display = 'block';
      document.getElementById('rutina').style.display = 'none';
    };

    const toggleEditMode = () => {
      if (isEditMode) {
        guardarCambios();
        document.getElementById('editarBtn').innerText = "Editar";
        deshabilitarEdicion();
      } else {
        document.getElementById('editarBtn').innerText = "Guardar cambios";
        habilitarEdicion();
      }
      isEditMode = !isEditMode;
    };

    const habilitarEdicion = () => {
      const ejercicios = document.querySelectorAll('.ejercicio input, .ejercicio select');
      ejercicios.forEach(ej => {
        ej.disabled = false;
      });
      const agregarBtn = document.querySelectorAll('button');
      agregarBtn.forEach(btn => {
        if (btn.innerText === '➕ Añadir ejercicio') {
          btn.disabled = false;
        } else if (btn.innerText === '❌') {
          btn.disabled = false;
        }
      });
    };

    const deshabilitarEdicion = () => {
      const ejercicios = document.querySelectorAll('.ejercicio input, .ejercicio select');
      ejercicios.forEach(ej => {
        ej.disabled = true;
      });
      const agregarBtn = document.querySelectorAll('button');
      agregarBtn.forEach(btn => {
        if (btn.innerText === '➕ Añadir ejercicio') {
          btn.disabled = true;
        } else if (btn.innerText === '❌') {
          btn.disabled = true;
        }
      });
    };

    const cargarRutina5Dias = () => {
      const rutina = JSON.parse(localStorage.getItem('rutina')) || [
        { dia: "Día 1 – Push (Pecho, Hombros, Tríceps)", ejercicios: [
            { nombre: "Press banca plano con barra" },
            { nombre: "Press inclinado con mancuernas" },
            { nombre: "Aperturas en máquina o polea" },
            { nombre: "Press militar con barra" },
            { nombre: "Elevaciones laterales" },
            { nombre: "Fondos o extensión de tríceps en polea" }
          ]
        },
        { dia: "Día 2 – Pull (Espalda, Bíceps)", ejercicios: [
            { nombre: "Dominadas o jalones al pecho" },
            { nombre: "Remo con barra o mancuernas" },
            { nombre: "Jalón en polea con agarre cerrado" },
            { nombre: "Curl bíceps con barra" },
            { nombre: "Curl martillo" },
            { nombre: "Face pulls" }
          ]
        },
        { dia: "Día 3 – Piernas", ejercicios: [
            { nombre: "Sentadillas" },
            { nombre: "Prensa" },
            { nombre: "Peso muerto rumano" },
            { nombre: "Zancadas caminando" },
            { nombre: "Curl femoral" },
            { nombre: "Elevaciones de talones (gemelos)" }
          ]
        },
        { dia: "Día 4 – Tren Superior (Fuerza)", ejercicios: [
            { nombre: "Press banca plano" },
            { nombre: "Dominadas lastradas o jalón" },
            { nombre: "Remo con barra" },
            { nombre: "Press militar" },
            { nombre: "Curl bíceps + fondos (superserie)" }
          ]
        },
        { dia: "Día 5 – Tren Inferior (Fuerza / Glúteos / Core)", ejercicios: [
            { nombre: "Peso muerto convencional" },
            { nombre: "Sentadilla frontal o hack" },
            { nombre: "Hip thrust" },
            { nombre: "Abductores en máquina" },
            { nombre: "Plancha" },
            { nombre: "Crunch en polea alta" }
          ]
        }
      ];

      let tabs = '';
      let content = '';
      rutina.forEach((dia, index) => {
        tabs += `<button class="tab" onclick="mostrarDia(${index})">Día ${index + 1}</button>`;
        content += `<div class="tab-content" id="dia${index}"><div class="dia"><h2>📅 ${dia.dia}</h2><div class="ejercicios">`;
        dia.ejercicios.forEach(ej => {
          content += `
            <div class="ejercicio">
              <button class="lupa" onclick="verEjercicio('${ej.nombre}')">🔍</button>
              <input value="${ej.nombre}" disabled />
              <select class="kg" disabled>
                ${generarOpcionesKG()}
              </select>
              <select class="seriesReps" disabled>
                ${generarOpcionesSeriesReps()}
              </select>
              <button onclick="eliminarEjercicio(event)">❌</button>
            </div>`;
        });
        content += '</div></div></div>';
      });

      document.getElementById('tabs').innerHTML = tabs;
      document.getElementById('diasRutina').innerHTML = content;
    };

    const mostrarDia = (index) => {
      const allTabs = document.querySelectorAll('.tab-content');
      allTabs.forEach(tab => tab.classList.remove('active'));
      document.getElementById(`dia${index}`).classList.add('active');
    };

const generarOpcionesKG = () => {
  let opciones = '';
  for (let i = 5; i <= 100; i += 5) {
    opciones += `<option>${i} kg</option>`;
  }
  return opciones;
};

const generarOpcionesSeriesReps = () => {
  return `
    <option>3x6</option>
    <option>3x8</option>
    <option>3x10</option>
    <option>3x12</option>
    <option>3x15</option>
    <option>4x6</option>
    <option>4x8</option>
    <option>4x10</option>
    <option>4x12</option>
    <option>4x15</option>
    <option>3x1'</option>
    <option>3x2'</option>
    <option>4x1'</option>
    <option>4x2'</option>
  `;
};

const verEjercicio = (ejercicio) => {
  const query = encodeURIComponent(ejercicio);
  window.open(`https://www.google.com/search?hl=es&tbm=isch&q=${query}`, '_blank');
};

const eliminarEjercicio = (e) => {
  const ejercicioDiv = e.target.parentElement;
  ejercicioDiv.remove();
  guardarCambios(); // Guardar después de eliminar
};

const guardarCambios = () => {
  const dias = [];
  
  // Itera sobre cada día de la rutina
  document.querySelectorAll('.dia').forEach(diaDiv => {
    const dia = { 
      dia: diaDiv.querySelector('h2').innerText, 
      ejercicios: [] 
    };
    
    // Itera sobre cada ejercicio en ese día
    diaDiv.querySelectorAll('.ejercicio').forEach(ejDiv => {
      const ejercicio = {
        nombre: ejDiv.querySelector('input').value, // Nombre del ejercicio

        // Aquí guardamos los valores de los desplegables
        peso: ejDiv.querySelector('.peso-select') ? ejDiv.querySelector('.peso-select').value : '',  // Selección del peso
        seriesReps: ejDiv.querySelector('.series-reps-select') ? ejDiv.querySelector('.series-reps-select').value : ''  // Selección de series y repeticiones
      };

      dia.ejercicios.push(ejercicio);
    });

    dias.push(dia);
  });

  // Guardamos los datos en el localStorage
  localStorage.setItem('rutina', JSON.stringify(dias));
};

const resetRutina = () => {
  if (confirm("¿Seguro que quieres resetear la rutina?")) {
    localStorage.removeItem('rutina');
    cargarRutina5Dias(); // Recargar rutina por defecto
  }
};

  </script>
</body>
</html>
