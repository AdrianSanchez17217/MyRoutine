<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rutina de Ejercicio</title>
  <style>
    body {
      font-family: sans-serif;
      padding: 10px;
      text-align: center;
      background-image: url('https://adriansanchez17217.github.io/IMAGEN/FONDO.jpg');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      background-attachment: fixed;
    }

    @media (max-width: 768px) {
      body {
        background-size: auto 100%;
      }
    }

    h2 {
      margin-top: 40px;
    }

    .dia {
      margin-bottom: 40px;
    }

    .ejercicio {
      display: flex;
      gap: 10px;
      align-items: center;
      margin-bottom: 10px;
    }

    .ejercicio input,
    .ejercicio select {
      font-weight: bold;
      color: black;
      background-color: transparent;
      border: none;
      padding: 2px;
      text-align: left;
      font-size: 16px;
      width: auto;
    }

    .ejercicio select {
      max-width: 73px;
      text-align: center;
    }

    .ejercicio textarea {
      font-weight: bold;
      color: black;
      background-color: transparent;
      border: none;
      padding: 2px;
      text-align: left;
      font-size: 16px;
      width: 100%;
      resize: none;
      word-break: break-word;
      overflow-wrap: break-word;
      line-height: 1.2em;
    }

    button {
      margin-top: 5px;
      padding: 3px 3px;
      background-color: transparent;
      border: none;
    }

    .lupa {
      cursor: pointer;
      margin-left: 5px;
      font-size: 14px;
      padding: 2px 2px;
      background-color: transparent;
      border: none;
    }

    .seleccion-usuario {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-top: 50px;
    }

    .seleccion-usuario button {
      background-color: #2196F3;
      color: white;
      padding: 15px 32px;
      text-align: center;
      font-size: 18px;
      border: none;
      cursor: pointer;
      border-radius: 5px;
      margin-bottom: 20px;
    }

    .seleccion-usuario button:hover {
      background-color: #0b7dda;
    }

    .volver {
      margin-top: 20px;
      font-size: 18px;
      text-decoration: underline;
      cursor: pointer;
      color: black;
    }

    .rutina-predeterminada {
      display: flex;
      justify-content: center;
      flex-direction: column;
      align-items: center;
    }

    .rutina-predeterminada button {
      background-color: #2196F3;
      color: white;
      padding: 15px 32px;
      text-align: center;
      font-size: 18px;
      border: none;
      cursor: pointer;
      border-radius: 5px;
      margin-top: 20px;
    }

    .rutina-predeterminada button:hover {
      background-color: #0b7dda;
    }

    .editar-btn {
      margin-top: 20px;
      background-color: #2196F3;
      padding: 10px;
      color: white;
      font-size: 16px;
      border: none;
      cursor: pointer;
      border-radius: 5px;
    }

    .editar-btn:hover {
      background-color: #0b7dda;
    }

    .ejercicio input:disabled,
    .ejercicio select:disabled {
      color: black;
      background-color: transparent;
      opacity: 1;
      font-weight: bold;
    }

    .reset-btn {
      margin-top: 20px;
      background-color: #F44336;
      color: white;
      padding: 10px 20px;
      font-size: 16px;
      border: none;
      cursor: pointer;
      border-radius: 5px;
    }

    .reset-btn:hover {
      background-color: #d32f2f;
    }
  </style>
</head>
<body>

  <div id="seleccionUsuario">
    <h1>Selecciona tu usuario</h1>
    <div class="seleccion-usuario">
      <button onclick="seleccionarUsuario('ADRIAN')">ADRIAN</button>
      <button onclick="seleccionarUsuario('CRISTINA')">CRISTINA</button>
    </div>
  </div>

  <div id="seleccionRutina" style="display:none;">
    <h1>Selecciona tu rutina</h1>
    <div class="rutina-predeterminada">
      <h2>Rutinas Predeterminadas</h2>
      <button onclick="cargarRutina('Rutina 5 dias')">Rutina 5 d√≠as</button>
    </div>
    <div class="volver" onclick="volverSeleccionUsuario()">‚Üê Volver a seleccionar usuario</div>
  </div>

  <div id="rutina" style="display:none;">
    <div class="volver" onclick="volverSeleccionRutina()">‚Üê Volver a seleccionar rutina</div>
    <button id="editarBtn" class="editar-btn" onclick="toggleEditMode()">Editar</button>
    <button class="reset-btn" onclick="resetRutina()">Resetear Rutina</button>
    <div id="diasRutina"></div>
  </div>

  <script>
    let usuarioSeleccionado = null;
    let rutinaSeleccionada = null;
    let isEditMode = false;

    const seleccionarUsuario = (usuario) => {
      usuarioSeleccionado = usuario;
      document.getElementById('seleccionUsuario').style.display = 'none';
      document.getElementById('seleccionRutina').style.display = 'block';
    };

    const volverSeleccionUsuario = () => {
      document.getElementById('seleccionUsuario').style.display = 'block';
      document.getElementById('seleccionRutina').style.display = 'none';
    };

    const cargarRutina = (rutina) => {
      rutinaSeleccionada = rutina;
      document.getElementById('seleccionRutina').style.display = 'none';
      document.getElementById('rutina').style.display = 'block';
      if (rutina === 'Rutina 5 dias') {
        cargarRutina5Dias();
      }
    };

    const volverSeleccionRutina = () => {
      document.getElementById('seleccionRutina').style.display = 'block';
      document.getElementById('rutina').style.display = 'none';
    };

    const toggleEditMode = () => {
      if (isEditMode) {
        guardarCambios();
        document.getElementById('editarBtn').innerText = "Editar";
        deshabilitarEdicion();
      } else {
        document.getElementById('editarBtn').innerText = "Guardar cambios";
        habilitarEdicion();
      }
      isEditMode = !isEditMode;
    };

    const habilitarEdicion = () => {
      const ejercicios = document.querySelectorAll('.ejercicio input, .ejercicio select');
      ejercicios.forEach(ej => {
        ej.disabled = false;
      });
      const agregarBtn = document.querySelectorAll('button');
      agregarBtn.forEach(btn => {
        if (btn.innerText === '‚ûï A√±adir ejercicio') {
          btn.disabled = false;
        } else if (btn.innerText === '‚ùå') {
          btn.disabled = false;
        }
      });
    };

    const deshabilitarEdicion = () => {
      const ejercicios = document.querySelectorAll('.ejercicio input, .ejercicio select');
      ejercicios.forEach(ej => {
        ej.disabled = true;
      });
      const agregarBtn = document.querySelectorAll('button');
      agregarBtn.forEach(btn => {
        if (btn.innerText === '‚ûï A√±adir ejercicio') {
          btn.disabled = true;
        } else if (btn.innerText === '‚ùå') {
          btn.disabled = true;
        }
      });
    };

    const cargarRutina5Dias = () => {
      const rutina = JSON.parse(localStorage.getItem('rutina')) || [
        { dia: "D√≠a 1 ‚Äì Push (Pecho, Hombros, Tr√≠ceps)", ejercicios: [
            { nombre: "Press banca plano con barra" },
            { nombre: "Press inclinado con mancuernas" },
            { nombre: "Aperturas en m√°quina o polea" },
            { nombre: "Press militar con barra" },
            { nombre: "Elevaciones laterales" },
            { nombre: "Fondos o extensi√≥n de tr√≠ceps en polea" }
          ]
        },
        { dia: "D√≠a 2 ‚Äì Pull (Espalda, B√≠ceps)", ejercicios: [
            { nombre: "Dominadas o jalones al pecho" },
            { nombre: "Remo con barra o mancuernas" },
            { nombre: "Jal√≥n en polea con agarre cerrado" },
            { nombre: "Curl b√≠ceps con barra" },
            { nombre: "Curl martillo" },
            { nombre: "Face pulls" }
          ]
        },
        { dia: "D√≠a 3 ‚Äì Piernas", ejercicios: [
            { nombre: "Sentadillas" },
            { nombre: "Prensa" },
            { nombre: "Peso muerto rumano" },
            { nombre: "Zancadas caminando" },
            { nombre: "Curl femoral" },
            { nombre: "Elevaciones de talones (gemelos)" }
          ]
        },
        { dia: "D√≠a 4 ‚Äì Tren Superior (Fuerza)", ejercicios: [
            { nombre: "Press banca plano" },
            { nombre: "Dominadas lastradas o jal√≥n" },
            { nombre: "Remo con barra" },
            { nombre: "Press militar" },
            { nombre: "Curl b√≠ceps + fondos (superserie)" }
          ]
        },
        { dia: "D√≠a 5 ‚Äì Tren Inferior (Fuerza / Gl√∫teos / Core)", ejercicios: [
            { nombre: "Peso muerto convencional" },
            { nombre: "Sentadilla frontal o hack" },
            { nombre: "Hip thrust" },
            { nombre: "Abductores en m√°quina" },
            { nombre: "Plancha" },
            { nombre: "Crunch en polea alta" }
          ]
        }
      ];

      let content = '';
      rutina.forEach(dia => {
        content += `<div class="dia"><h2>üìÖ ${dia.dia}</h2><div class="ejercicios">`;
        dia.ejercicios.forEach(ej => {
          content += `
            <div class="ejercicio">
              <button class="lupa" onclick="verEjercicio('${ej.nombre}')">üîç</button>
              <input value="${ej.nombre}" disabled />
              <select class="kg" disabled>
                ${generarOpcionesKG()}
              </select>
              <select class="seriesReps" disabled>
                ${generarOpcionesSeriesReps()}
              </select>
              <button onclick="eliminarEjercicio(event)">‚ùå</button>
            </div>`;
        });
        content += '</div></div>';
      });

      document.getElementById('diasRutina').innerHTML = content;
    };

    const generarOpcionesKG = () => {
      return `<option>5</option><option>10</option><option>15</option><option>20</option><option>25</option>`;
    };

    const generarOpcionesSeriesReps = () => {
      return `<option>3x12</option><option>4x8</option><option>5x5</option>`;
    };



const verEjercicio = (ejercicio) => {
  const query = encodeURIComponent(ejercicio);
  window.open(`https://www.google.com/search?hl=es&tbm=isch&q=${query}`, '_blank');
};




    const eliminarEjercicio = (e) => {
      const ejercicioDiv = e.target.parentElement;
      ejercicioDiv.remove();
      guardarCambios(); // Guardar despu√©s de eliminar
    };

    const guardarCambios = () => {
      const dias = [];
      document.querySelectorAll('.dia').forEach(diaDiv => {
        const dia = { dia: diaDiv.querySelector('h2').innerText, ejercicios: [] };
        diaDiv.querySelectorAll('.ejercicio').forEach(ejDiv => {
          const ejercicio = {
            nombre: ejDiv.querySelector('input').value,
            kg: ejDiv.querySelector('.kg').value,
            seriesReps: ejDiv.querySelector('.seriesReps').value
          };
          dia.ejercicios.push(ejercicio);
        });
        dias.push(dia);
      });
      localStorage.setItem('rutina', JSON.stringify(dias)); // Guardar los cambios en localStorage
    };

    const resetRutina = () => {
      localStorage.removeItem('rutina');
      cargarRutina5Dias();
    };
  </script>

</body>
</html>
