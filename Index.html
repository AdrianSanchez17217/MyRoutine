<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rutina de Ejercicio</title>
  <style>
    body {
      font-family: sans-serif;
      padding: 10px;
      text-align: center;
      background-image: url('https://adriansanchez17217.github.io/IMAGEN/FONDO.jpg');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      background-attachment: fixed;
      color: white;
    }

    @media (max-width: 768) {
      body {
        background-size: 100% auto;
      }
    }

    h2 {
      margin-top: 40px;
    }

    .tabs {
      display: flex;
      justify-content: center;
      margin-bottom: 20px;
      flex-wrap: wrap;
    }

    .tab {
      padding: 5px 10px;
      cursor: pointer;
      background-color: transparent;
      color: white;
      border: none;
      border-radius: 5px;
      margin: 5px;
      font-weight: bold;
      font-size: 16px;
      flex: 1;
    }

    .tab:hover {
      background-color: #0b7dda;
    }

    .tab-content {
      display: none;
    }

    .tab-content.active {
      display: block;
    }

    .dia {
      margin-bottom: 40px;
    }

    .ejercicio {
  display: flex;
  align-items: center;
  margin-bottom: 5px;
  gap: 8px; /* Espacio entre elementos */
}


    .ejercicio input,
    .ejercicio select {
      font-weight: bold;
      color: white;
      background-color: transparent;
      border: none;
      padding: 2px;
      text-align: left;
      font-size: 14px;
      margin: 0;
    }

    .ejercicio select {
  max-width: 72px;
  text-align: center;
  font-size: 16px;
  height: 2.4em; /* Igual altura que el texto */
}

.ejercicio textarea {
  font-weight: bold;
  color: white;
  background-color: transparent;
  border: none;
  padding: 2px;
  font-size: 16px;
  line-height: 1.2em;
  height: 2.6em; /* Fuerza el alto de 2 l√≠neas */
  resize: none;
  overflow: hidden;
  overflow-wrap: break-word;
  word-break: break-word;
  white-space: normal; /* Permite saltos de l√≠nea */
  width: 180px;
}


    button {
      margin: 0px;
      padding: 2px 5px;
      background-color: transparent;
      border: none;
    }

    .lupa {
      cursor: pointer;
      margin-left: 0px;
      font-size: 14px;
      padding: 2px 5px;
      background-color: transparent;
      border: none;
    }

    .seleccion-usuario {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-top: 50px;
      color: white;
    }

    .seleccion-usuario button {
      background-color: #2196F3;
      color: white;
      padding: 15px 32px;
      text-align: center;
      font-size: 18px;
      border: none;
      cursor: pointer;
      border-radius: 5px;
      margin-bottom: 20px;
    }

    .seleccion-usuario button:hover {
      background-color: #0b7dda;
      color: white;
    }

    .volver {
      margin-top: 20px;
      font-size: 18px;
      text-decoration: underline;
      cursor: pointer;
      color: white;
    }

    .rutina-predeterminada {
      display: flex;
      justify-content: center;
      flex-direction: column;
      align-items: center;
      color: white;
    }

    .rutina-predeterminada button {
      background-color: #2196F3;
      color: white;
      padding: 15px 32px;
      text-align: center;
      font-size: 18px;
      border: none;
      cursor: pointer;
      border-radius: 5px;
      margin-top: 20px;
    }

    .rutina-predeterminada button:hover {
      background-color: #0b7dda;
    }

    .editar-btn {
      margin-top: 20px;
      background-color: #2196F3;
      padding: 10px;
      color: white;
      font-size: 16px;
      border: none;
      cursor: pointer;
      border-radius: 5px;
    }

    .editar-btn:hover {
      background-color: #0b7dda;
    }

    .ejercicio input:disabled,
    .ejercicio select:disabled {
      color: white;
      background-color: transparent;
      opacity: 1;
      font-weight: bold;
    }

    .reset-btn {
      margin-top: 20px;
      background-color: #F44336;
      color: white;
      padding: 10px 20px;
      font-size: 16px;
      border: none;
      cursor: pointer;
      border-radius: 5px;
    }

    .reset-btn:hover {
      background-color: #d32f2f;
    }

    #diasRutina {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      gap: 20px;
      margin-top: 30px;
    }

    @media (max-width: 768px) {
      .tab {
        width: auto;
        margin: 5px 0;
      }
      .dia {
        width: 100%;
      }
    }

    @media (min-width: 769px) {
      .dia {
        width: 48%;
      }
    }
  </style>
</head>
<body>
  <div id="seleccionUsuario">
    <h1>Selecciona tu usuario</h1>
    <div class="seleccion-usuario">
      <button onclick="seleccionarUsuario('ADRIAN')">ADRIAN</button>
      <button onclick="seleccionarUsuario('CRISTINA')">CRISTINA</button>
    </div>
  </div>

  <div id="seleccionRutina" style="display:none;">
    <h1>Selecciona tu rutina</h1>
    <div class="rutina-predeterminada">
      <h2>Rutinas Predeterminadas</h2>
      <button onclick="cargarRutina('Rutina 5 d√≠as')">Rutina 5 d√≠as</button>
    </div>
    <div class="volver" onclick="volverSeleccionUsuario()">‚Üê Volver a seleccionar usuario</div>
  </div>

  <div id="rutina" style="display:none;">
    <div class="volver" onclick="volverSeleccionRutina()">‚Üê Volver a seleccionar rutina</div>
    <button id="editarBtn" class="editar-btn" onclick="toggleEditMode()">Editar</button>
    <button class="reset-btn" onclick="resetRutina()">Resetear Rutina</button>
    <div class="tabs" id="tabs"></div>
    <div id="diasRutina"></div>
  </div>

<script>
  let usuarioSeleccionado = null;
  let rutinaSeleccionada = null;
  let isEditMode = false;

  const seleccionarUsuario = (usuario) => {
    usuarioSeleccionado = usuario;
    document.getElementById('seleccionUsuario').style.display = 'none';
    document.getElementById('seleccionRutina').style.display = 'block';
  };

  const volverSeleccionUsuario = () => {
    document.getElementById('seleccionUsuario').style.display = 'block';
    document.getElementById('seleccionRutina').style.display = 'none';
  };

  const cargarRutina = (rutina) => {
    rutinaSeleccionada = rutina;
    document.getElementById('seleccionRutina').style.display = 'none';
    document.getElementById('rutina').style.display = 'block';
    if (rutina === 'Rutina 5 d√≠as') {
      cargarRutina5Dias();
    }
  };

  const volverSeleccionRutina = () => {
    document.getElementById('seleccionRutina').style.display = 'block';
    document.getElementById('rutina').style.display = 'none';
  };

  const toggleEditMode = () => {
    if (isEditMode) {
      guardarEstadoPagina();
      document.getElementById('editarBtn').innerText = "Editar";
      deshabilitarEdicion();
    } else {
      document.getElementById('editarBtn').innerText = "Guardar cambios";
      habilitarEdicion();
    }
    isEditMode = !isEditMode;
  };

  const habilitarEdicion = () => {
    document.querySelectorAll('.ejercicio input, .ejercicio select').forEach(el => el.disabled = false);
    document.querySelectorAll('.ejercicio button').forEach(btn => btn.disabled = false);
  };

  const deshabilitarEdicion = () => {
  document.querySelectorAll('.ejercicio input, .ejercicio select').forEach(el => el.disabled = true);
  document.querySelectorAll('.ejercicio button:not(.lupa)').forEach(btn => btn.disabled = true);
};


  const cargarRutina5Dias = () => {
    let rutinaGuardada = JSON.parse(localStorage.getItem('rutinaCompleta'));
    const diasPorDefecto = [
      { dia: "D√≠a 1 ‚Äì Push (Pecho, Hombros, Tr√≠ceps)", ejercicios: [
          { nombre: "Press banca plano con barra", kg: "", seriesReps: "" },
          { nombre: "Press inclinado con mancuernas", kg: "", seriesReps: "" },
          { nombre: "Aperturas en m√°quina o polea", kg: "", seriesReps: "" },
          { nombre: "Press militar con barra", kg: "", seriesReps: "" },
          { nombre: "Elevaciones laterales", kg: "", seriesReps: "" },
          { nombre: "Fondos o extensi√≥n de tr√≠ceps en polea", kg: "", seriesReps: "" }
        ]},
      { dia: "D√≠a 2 ‚Äì Pull (Espalda, B√≠ceps)", ejercicios: [
          { nombre: "Dominadas o jalones al pecho", kg: "", seriesReps: "" },
          { nombre: "Remo con barra o mancuernas", kg: "", seriesReps: "" },
          { nombre: "Jal√≥n en polea con agarre cerrado", kg: "", seriesReps: "" },
          { nombre: "Curl b√≠ceps con barra", kg: "", seriesReps: "" },
          { nombre: "Curl martillo", kg: "", seriesReps: "" },
          { nombre: "Face pulls", kg: "", seriesReps: "" }
        ]},
      { dia: "D√≠a 3 ‚Äì Piernas", ejercicios: [
          { nombre: "Sentadillas", kg: "", seriesReps: "" },
          { nombre: "Prensa", kg: "", seriesReps: "" },
          { nombre: "Peso muerto rumano", kg: "", seriesReps: "" },
          { nombre: "Zancadas caminando", kg: "", seriesReps: "" },
          { nombre: "Curl femoral", kg: "", seriesReps: "" },
          { nombre: "Elevaciones de talones (gemelos)", kg: "", seriesReps: "" }
        ]},
      { dia: "D√≠a 4 ‚Äì Tren Superior (Fuerza)", ejercicios: [
          { nombre: "Press banca plano", kg: "", seriesReps: "" },
          { nombre: "Dominadas lastradas o jal√≥n", kg: "", seriesReps: "" },
          { nombre: "Remo con barra", kg: "", seriesReps: "" },
          { nombre: "Press militar", kg: "", seriesReps: "" },
          { nombre: "Curl b√≠ceps + fondos (superserie)", kg: "", seriesReps: "" }
        ]},
      { dia: "D√≠a 5 ‚Äì Tren Inferior (Fuerza / Gl√∫teos / Core)", ejercicios: [
          { nombre: "Peso muerto convencional", kg: "", seriesReps: "" },
          { nombre: "Sentadilla frontal o hack", kg: "", seriesReps: "" },
          { nombre: "Hip thrust", kg: "", seriesReps: "" },
          { nombre: "Abductores en m√°quina", kg: "", seriesReps: "" },
          { nombre: "Plancha", kg: "", seriesReps: "" },
          { nombre: "Crunch en polea alta", kg: "", seriesReps: "" }
        ]}
    ];

    rutinaGuardada = rutinaGuardada || diasPorDefecto;

    let tabs = '';
    let content = '';
    rutinaGuardada.forEach((dia, index) => {
      tabs += `<button class="tab" onclick="mostrarDia(${index})">D√≠a ${index + 1}</button>`;
      content += `<div class="tab-content" id="dia${index}"><div class="dia"><h2>üìÖ ${dia.dia}</h2><div class="ejercicios">`;
      dia.ejercicios.forEach(ej => {
        content += `
          <div class="ejercicio">
            <button class="lupa" onclick="verEjercicio('${ej.nombre}')">üîç</button>
            <input value="${ej.nombre}" disabled />
            <select class="kg" disabled>${generarOpcionesKG(ej.kg)}</select>
            <select class="seriesReps" disabled>${generarOpcionesSeriesReps(ej.seriesReps)}</select>
            <button onclick="eliminarEjercicio(event)">‚ùå</button>
          </div>`;
      });
      content += '</div></div></div>';
    });

    document.getElementById('tabs').innerHTML = tabs;
    document.getElementById('diasRutina').innerHTML = content;

    mostrarDia(0);
  };

  const mostrarDia = (index) => {
    document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active'));
    document.getElementById(`dia${index}`).classList.add('active');
  };

  const guardarEstadoPagina = () => {
    const dias = [];
    document.querySelectorAll('.dia').forEach(diaDiv => {
      const titulo = diaDiv.querySelector('h2').textContent.replace('üìÖ ', '');
      const ejercicios = [];
      diaDiv.querySelectorAll('.ejercicio').forEach(ejDiv => {
        ejercicios.push({
          nombre: ejDiv.querySelector('input').value,
          kg: ejDiv.querySelector('.kg').value,
          seriesReps: ejDiv.querySelector('.seriesReps').value
        });
      });
      dias.push({ dia: titulo, ejercicios });
    });
    localStorage.setItem('rutinaCompleta', JSON.stringify(dias));
  };

  const generarOpcionesKG = (valorSeleccionado = "") => {
    let opciones = '';
    for (let i = 5; i <= 100; i += 5) {
      const value = `${i} kg`;
      opciones += `<option${value === valorSeleccionado ? ' selected' : ''}>${value}</option>`;
    }
    return opciones;
  };

  const generarOpcionesSeriesReps = (valorSeleccionado = "") => {
    const opcionesBase = ["3x6", "3x8", "3x10", "3x12", "3x15", "4x6", "4x8", "4x10", "4x12", "4x15", "3x1'", "3x2'", "4x1'", "4x2'"];
    return opcionesBase.map(op => `<option${op === valorSeleccionado ? ' selected' : ''}>${op}</option>`).join('');
  };

  const verEjercicio = (ejercicio) => {
    const query = encodeURIComponent(ejercicio);
    window.open(`https://www.google.com/search?hl=es&tbm=isch&q=${query}`, '_blank');
  };

  const eliminarEjercicio = (e) => {
    e.target.closest('.ejercicio').remove();
    guardarEstadoPagina();
  };

  const resetRutina = () => {
    if (confirm("¬øSeguro que quieres resetear la rutina?")) {
      localStorage.removeItem('rutinaCompleta');
      cargarRutina5Dias();
    }
  };

  window.onload = () => {
    cargarRutina5Dias();
  };
</script>
</body>
</html>
