<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rutina de Ejercicio</title>
  <style>
    body {
      font-family: sans-serif;
      padding: 20px;
    }
    h2 {
      margin-top: 40px;
    }
    .dia {
      margin-bottom: 40px;
    }
    .ejercicio {
      display: flex;
      gap: 10px;
      align-items: center;
      margin-bottom: 10px;
    }
    .ejercicio input {
      flex: 1;
    }
    select {
      min-width: 100px;
    }
    button {
      margin-top: 10px;
    }
  </style>
</head>
<body>

  <div class="dia">
    <h2>📅 Día 1 – Push (Pecho, Hombros, Tríceps)</h2>
    <div class="ejercicios">
      <div class="ejercicio"><input value="Press banca plano con barra – 4x8"/><select></select><button onclick="eliminar(this)">❌</button></div>
      <div class="ejercicio"><input value="Press inclinado con mancuernas – 4x10"/><select></select><button onclick="eliminar(this)">❌</button></div>
      <div class="ejercicio"><input value="Aperturas en máquina o polea – 3x12"/><select></select><button onclick="eliminar(this)">❌</button></div>
      <div class="ejercicio"><input value="Press militar con barra – 4x8"/><select></select><button onclick="eliminar(this)">❌</button></div>
      <div class="ejercicio"><input value="Elevaciones laterales – 3x15"/><select></select><button onclick="eliminar(this)">❌</button></div>
      <div class="ejercicio"><input value="Fondos o extensión de tríceps en polea – 4x12"/><select></select><button onclick="eliminar(this)">❌</button></div>
    </div>
    <button onclick="agregar(this)">➕ Añadir ejercicio</button>
  </div>

  <div class="dia">
    <h2>📅 Día 2 – Pull (Espalda, Bíceps)</h2>
    <div class="ejercicios">
      <div class="ejercicio"><input value="Dominadas o jalones al pecho – 4x8-10"/><select></select><button onclick="eliminar(this)">❌</button></div>
      <div class="ejercicio"><input value="Remo con barra o mancuernas – 4x10"/><select></select><button onclick="eliminar(this)">❌</button></div>
      <div class="ejercicio"><input value="Jalón en polea con agarre cerrado – 3x12"/><select></select><button onclick="eliminar(this)">❌</button></div>
      <div class="ejercicio"><input value="Curl bíceps con barra – 4x10"/><select></select><button onclick="eliminar(this)">❌</button></div>
      <div class="ejercicio"><input value="Curl martillo – 3x12"/><select></select><button onclick="eliminar(this)">❌</button></div>
      <div class="ejercicio"><input value="Face pulls – 3x15"/><select></select><button onclick="eliminar(this)">❌</button></div>
    </div>
    <button onclick="agregar(this)">➕ Añadir ejercicio</button>
  </div>

  <div class="dia">
    <h2>📅 Día 3 – Piernas</h2>
    <div class="ejercicios">
      <div class="ejercicio"><input value="Sentadillas – 4x8"/><select></select><button onclick="eliminar(this)">❌</button></div>
      <div class="ejercicio"><input value="Prensa – 4x10"/><select></select><button onclick="eliminar(this)">❌</button></div>
      <div class="ejercicio"><input value="Peso muerto rumano – 4x10"/><select></select><button onclick="eliminar(this)">❌</button></div>
      <div class="ejercicio"><input value="Zancadas caminando – 3x12 por pierna"/><select></select><button onclick="eliminar(this)">❌</button></div>
      <div class="ejercicio"><input value="Curl femoral – 3x12"/><select></select><button onclick="eliminar(this)">❌</button></div>
      <div class="ejercicio"><input value="Elevaciones de talones (gemelos) – 4x15-20"/><select></select><button onclick="eliminar(this)">❌</button></div>
    </div>
    <button onclick="agregar(this)">➕ Añadir ejercicio</button>
  </div>

  <div class="dia">
    <h2>📅 Día 4 – Tren Superior (Fuerza)</h2>
    <div class="ejercicios">
      <div class="ejercicio"><input value="Press banca plano – 4x6"/><select></select><button onclick="eliminar(this)">❌</button></div>
      <div class="ejercicio"><input value="Dominadas lastradas o jalón – 4x6-8"/><select></select><button onclick="eliminar(this)">❌</button></div>
      <div class="ejercicio"><input value="Remo con barra – 4x6"/><select></select><button onclick="eliminar(this)">❌</button></div>
      <div class="ejercicio"><input value="Press militar – 4x6"/><select></select><button onclick="eliminar(this)">❌</button></div>
      <div class="ejercicio"><input value="Curl bíceps + fondos (superserie) – 3x10 cada uno"/><select></select><button onclick="eliminar(this)">❌</button></div>
    </div>
    <button onclick="agregar(this)">➕ Añadir ejercicio</button>
  </div>

  <div class="dia">
    <h2>📅 Día 5 – Tren Inferior (Fuerza / Glúteos / Core)</h2>
    <div class="ejercicios">
      <div class="ejercicio"><input value="Peso muerto convencional – 4x6"/><select></select><button onclick="eliminar(this)">❌</button></div>
      <div class="ejercicio"><input value="Sentadilla frontal o hack – 4x8"/><select></select><button onclick="eliminar(this)">❌</button></div>
      <div class="ejercicio"><input value="Hip thrust – 4x10"/><select></select><button onclick="eliminar(this)">❌</button></div>
      <div class="ejercicio"><input value="Abductores en máquina – 3x15"/><select></select><button onclick="eliminar(this)">❌</button></div>
      <div class="ejercicio"><input value="Plancha – 3x1 min"/><select></select><button onclick="eliminar(this)">❌</button></div>
      <div class="ejercicio"><input value="Crunch en polea alta – 3x20"/><select></select><button onclick="eliminar(this)">❌</button></div>
    </div>
    <button onclick="agregar(this)">➕ Añadir ejercicio</button>
  </div>

  <script>
    const llenarSelect = (select, valorGuardado) => {
      for (let i = 0; i <= 100; i += 5) {
        const option = document.createElement('option');
        option.value = i;
        option.textContent = i + ' kg';
        if (valorGuardado == i) option.selected = true;
        select.appendChild(option);
      }
    };

    const guardarCambios = () => {
      const data = [];
      document.querySelectorAll('.dia').forEach(dia => {
        const ejercicios = [];
        dia.querySelectorAll('.ejercicio').forEach(div => {
          ejercicios.push({
            nombre: div.querySelector('input').value,
            peso: div.querySelector('select').value
          });
        });
        data.push(ejercicios);
      });
      localStorage.setItem('rutina', JSON.stringify(data));
    };

    const cargarDatos = () => {
      const data = JSON.parse(localStorage.getItem('rutina'));
      if (!data) return;
      document.querySelectorAll('.dia').forEach((dia, index) => {
        const ejercicios = data[index];
        const contenedor = dia.querySelector('.ejercicios');
        contenedor.innerHTML = '';
        ejercicios.forEach(ej => {
          const div = document.createElement('div');
          div.className = 'ejercicio';
          const input = document.createElement('input');
          input.value = ej.nombre;
          input.onchange = guardarCambios;
          const select = document.createElement('select');
          llenarSelect(select, ej.peso);
          select.onchange = guardarCambios;
          const btn = document.createElement('button');
          btn.textContent = '❌';
          btn.onclick = () => { eliminar(btn); guardarCambios(); };
          div.appendChild(input);
          div.appendChild(select);
          div.appendChild(btn);
          contenedor.appendChild(div);
        });
      });
    };

    const agregar = (btn) => {
      const contenedor = btn.previousElementSibling;
      const div = document.createElement('div');
      div.className = 'ejercicio';
      const input = document.createElement('input');
      input.placeholder = 'Nuevo ejercicio';
      input.onchange = guardarCambios;
      const select = document.createElement('select');
      llenarSelect(select);
      select.onchange = guardarCambios;
      const btnDel = document.createElement('button');
      btnDel.textContent = '❌';
      btnDel.onclick = () => { eliminar(btnDel); guardarCambios(); };
      div.appendChild(input);
      div.appendChild(select);
      div.appendChild(btnDel);
      contenedor.appendChild(div);
    };

    const eliminar = (btn) => {
      btn.parentElement.remove();
    };

    document.querySelectorAll('select').forEach(select => llenarSelect(select));
    document.querySelectorAll('select').forEach(select => select.onchange = guardarCambios);
    document.querySelectorAll('input').forEach(input => input.onchange = guardarCambios);

    cargarDatos();
  </script>
</body>
</html>
